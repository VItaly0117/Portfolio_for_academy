@page
@model About_me.Pages.Skills.IndexModel
@{
    ViewData["Title"] = "Список навичок";
}

<h1>Навички</h1>

<p>
    <a asp-page="Create" class="btn btn-primary">Додати навичку</a>
    <a asp-page="/Index" class="btn btn-secondary">Назад до профілю</a>
</p>

<table class="table">
    <thead>
    <tr>
        <th>Назва навички</th>
        <th>Рівень (%)</th>
        <th>Дії</th>
    </tr>
    </thead>
    <tbody>
    @if (Model.Person != null && Model.Person.Skills != null)
    {
        @foreach (var skill in Model.Person.Skills)
        {
            <tr>
                <td>@skill.Name</td>
                <td>
                    @skill.Level
                    <div class="progress" style="height: 5px;">
                        <div class="progress-bar" role="progressbar" style="width: @skill.Level%;" aria-valuenow="@skill.Level" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </td>
                <td>
                    @* Використовуємо asp-route-skillName для передачі назви навички *@
                    <a asp-page="./Edit" asp-route-skillName="@skill.Name" class="btn btn-sm btn-warning">Редагувати</a>
                        
                    <form method="post" asp-page-handler="Delete" asp-route-skillName="@skill.Name" style="display:inline;" onsubmit="return confirm('Ви впевнені, що хочете видалити цю навичку?');">
                        <button type="submit" class="btn btn-sm btn-danger">Видалити</button>
                    </form>
                </td>
            </tr>
        }
    }
    </tbody>
</table>